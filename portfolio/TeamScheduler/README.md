# TeamScheduler - ì „ì‚¬ ê³µìš© ìº˜ë¦°ë”

![TeamScheduler](https://img.shields.io/badge/TeamScheduler-v1.0-blue)
![License](https://img.shields.io/badge/License-MIT-green)
![Status](https://img.shields.io/badge/Status-Active-brightgreen)

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

TeamSchedulerëŠ” íšŒì‚¬ ì „ì²´ íŒ€ì›ë“¤ì´ ê³µìœ í•˜ëŠ” ì¼ì • ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ê° ë¸Œëœë“œë³„ ì¼ì •ì„ ì‹œê°ì ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ í‘œì‹œí•˜ê³ , ì¤‘ìš” ì¼ì •ì„ ìƒë‹¨ì— ê°•ì¡° í‘œì‹œí•˜ë©°, ë§¤ì¼ ì˜¤ì „ 8ì‹œì— ì˜¤ëŠ˜ ì¼ì •ì„ ìë™ìœ¼ë¡œ ì•Œë¦¼í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ—“ï¸ ìº˜ë¦°ë” ê¸°ëŠ¥

-   **ì›”ë³„ ìº˜ë¦°ë” ë·°**: ì§ê´€ì ì¸ ì›”ë³„ ìº˜ë¦°ë” ì¸í„°í˜ì´ìŠ¤
-   **ë¸Œëœë“œë³„ ìƒ‰ìƒ êµ¬ë¶„**: íšŒì‚¬ì „ì²´(ë¹¨ê°„ìƒ‰), ì••íƒ€ë°€(íŒŒë€ìƒ‰), ë“œë¦¬ë¯¸(ì£¼í™©ìƒ‰), btëª°(ë…¸ë€ìƒ‰)
-   **ì¼ì • íˆ´íŒ**: ë§ˆìš°ìŠ¤ í˜¸ë²„ ì‹œ ì¼ì • ìƒì„¸ ì •ë³´ í‘œì‹œ
-   **ì˜¤ëŠ˜ ë‚ ì§œ í•˜ì´ë¼ì´íŠ¸**: í˜„ì¬ ë‚ ì§œë¥¼ ì‹œê°ì ìœ¼ë¡œ ê°•ì¡°

### ğŸ“¢ ì¤‘ìš” ì¼ì • & ì˜¤ëŠ˜ ì¼ì •

-   **ì¤‘ìš” ê³µì§€ ì„¹ì…˜**: `important: true`ë¡œ ì„¤ì •ëœ ì¼ì •ë“¤ì„ ìƒë‹¨ì— í‘œì‹œ
-   **ì˜¤ëŠ˜ ì¼ì • ìš”ì•½**: ì˜¤ëŠ˜ ë‚ ì§œì˜ ëª¨ë“  ì¼ì •ì„ ë¸Œëœë“œë³„ë¡œ êµ¬ë¶„í•˜ì—¬ í‘œì‹œ
-   **ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸**: í˜ì´ì§€ ë¡œë“œ ì‹œ ìµœì‹  ì¼ì • ì •ë³´ ë°˜ì˜

### ğŸ“ ì¼ì • ë“±ë¡ ìš”ì²­

-   **ëª¨ë‹¬ ê¸°ë°˜ í¼**: ì‚¬ìš©ì ì¹œí™”ì ì¸ ì¼ì • ë“±ë¡ ìš”ì²­ ì¸í„°í˜ì´ìŠ¤
-   **Google Apps Script ì—°ë™**: ìš”ì²­ëœ ì¼ì •ì„ Google Sheetsì— ìë™ ì €ì¥
-   **ì‹¤ì‹œê°„ ì²˜ë¦¬**: ìš”ì²­ ì¦‰ì‹œ ì²˜ë¦¬ ë° í™•ì¸ ë©”ì‹œì§€ í‘œì‹œ

### ğŸ”” ìë™ ì•Œë¦¼ ì‹œìŠ¤í…œ

-   **ë§¤ì¼ ì˜¤ì „ 8ì‹œ Webhook**: ì˜¤ëŠ˜ ì¼ì •ì„ ìë™ìœ¼ë¡œ íŒ€ë£¸ì— ë°œì†¡
-   **ë„¤ì´íŠ¸ì˜¨ ì—°ë™**: íŒ€ë£¸ Webhookì„ í†µí•œ ìë™ ì•Œë¦¼
-   **ìŠ¤ë§ˆíŠ¸ ì•Œë¦¼**: ì¼ì •ì´ ìˆì„ ë•Œë§Œ ì•Œë¦¼ ë°œì†¡

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

-   **Frontend**: HTML5, CSS3, JavaScript (ES6+)
-   **Styling**: Tailwind CSS
-   **Backend Integration**: Google Apps Script
-   **Data Storage**: JSON (events.json)
-   **Webhook**: ë„¤ì´íŠ¸ì˜¨ íŒ€ë£¸ API

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
TeamScheduler/
â”œâ”€â”€ index.html              # ë©”ì¸ ìº˜ë¦°ë” í˜ì´ì§€
â”œâ”€â”€ events.json             # ì¼ì • ë°ì´í„° íŒŒì¼
â”œâ”€â”€ google/
â”‚   â”œâ”€â”€ googleappscript.js  # Google Apps Script ì½”ë“œ
â”‚   â””â”€â”€ index.html          # Google Apps Script HTML
â””â”€â”€ README.md               # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. ì €ì¥ì†Œ í´ë¡ 

```bash
git clone https://github.com/your-username/TeamScheduler.git
cd TeamScheduler
```

### 2. ë¡œì»¬ ì„œë²„ ì‹¤í–‰

```bash
# Python 3 ì‚¬ìš©
python -m http.server 8000

# ë˜ëŠ” Node.js ì‚¬ìš©
npx http-server

# ë˜ëŠ” Live Server (VS Code í™•ì¥)
```

### 3. ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†

```
http://localhost:8000
```

## ğŸ“Š ì¼ì • ë°ì´í„° í˜•ì‹

`events.json` íŒŒì¼ì˜ êµ¬ì¡°:

```json
{
    "events": [
        {
            "date": "2024-01-15",
            "title": "ì›”ê°„ íšŒì˜",
            "description": "ì „ì‚¬ ì›”ê°„ íšŒì˜ ì§„í–‰",
            "type": "company",
            "time": "14:00",
            "important": true
        }
    ]
}
```

### ì¼ì • íƒ€ì…ë³„ ìƒ‰ìƒ

-   `company`: íšŒì‚¬ì „ì²´ (ë¹¨ê°„ìƒ‰)
-   `aptamil`: ì••íƒ€ë°€ (íŒŒë€ìƒ‰)
-   `dreame`: ë“œë¦¬ë¯¸ (ì£¼í™©ìƒ‰)
-   `btmall`: btëª° (ë…¸ë€ìƒ‰)

## âš™ï¸ ì„¤ì •

### Google Apps Script ì„¤ì •

1. `google/googleappscript.js` íŒŒì¼ì˜ ì½”ë“œë¥¼ Google Apps Scriptì— ë³µì‚¬
2. Google Apps Scriptì—ì„œ ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
3. ì½”ë“œ ë°°í¬ í›„ Web App URL íšë“
4. `index.html`ì˜ `googleAppsScriptUrl` ë³€ìˆ˜ì— URL ì…ë ¥

### Webhook ì„¤ì •

1. ë„¤ì´íŠ¸ì˜¨ íŒ€ë£¸ì—ì„œ Webhook URL ìƒì„±
2. `index.html`ì˜ `webhookUrl` ë³€ìˆ˜ì— URL ì…ë ¥

## ğŸ¨ UI/UX íŠ¹ì§•

-   **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë°”ì¼, íƒœë¸”ë¦¿, ë°ìŠ¤í¬í†± ëª¨ë“  ê¸°ê¸° ì§€ì›
-   **ëª¨ë˜ UI**: Tailwind CSSë¥¼ í™œìš©í•œ ê¹”ë”í•˜ê³  í˜„ëŒ€ì ì¸ ë””ìì¸
-   **ì• ë‹ˆë©”ì´ì…˜**: ë¶€ë“œëŸ¬ìš´ ì „í™˜ íš¨ê³¼ì™€ í˜¸ë²„ ì• ë‹ˆë©”ì´ì…˜
-   **ì ‘ê·¼ì„±**: í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ë° ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›

## ğŸ”§ ê°œë°œ ê°€ì´ë“œ

### ì¼ì • ì¶”ê°€ ë°©ë²•

1. `events.json` íŒŒì¼ì— ìƒˆ ì¼ì • ë°ì´í„° ì¶”ê°€
2. ë¸Œë¼ìš°ì €ì—ì„œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
3. ìº˜ë¦°ë”ì—ì„œ ì¼ì • í™•ì¸

### ìŠ¤íƒ€ì¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•

-   `index.html`ì˜ `<style>` ì„¹ì…˜ì—ì„œ CSS ìˆ˜ì •
-   Tailwind CSS í´ë˜ìŠ¤ë¥¼ í™œìš©í•œ ìŠ¤íƒ€ì¼ë§
-   ë¸Œëœë“œë³„ ìƒ‰ìƒì€ `tailwind.config`ì—ì„œ ì •ì˜

## ğŸ“± ë¸Œë¼ìš°ì € ì§€ì›

-   Chrome 80+
-   Firefox 75+
-   Safari 13+
-   Edge 80+

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ `LICENSE` íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ì— ëŒ€í•œ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.

## ğŸ”„ ì—…ë°ì´íŠ¸ ë¡œê·¸

### v1.0.0 (2024-01-15)

-   ì´ˆê¸° ë²„ì „ ë¦´ë¦¬ì¦ˆ
-   ê¸°ë³¸ ìº˜ë¦°ë” ê¸°ëŠ¥ êµ¬í˜„
-   ì¼ì • ë“±ë¡ ìš”ì²­ ì‹œìŠ¤í…œ
-   ìë™ Webhook ì•Œë¦¼ ê¸°ëŠ¥
-   ë°˜ì‘í˜• ë””ìì¸ ì ìš©

---

**TeamScheduler** - íŒ€ì˜ ì¼ì •ì„ í•œëˆˆì—! ğŸ“…âœ¨

ë°±ì—…
// ìµœì¢… ë²„ì „ - Google Apps Script (íŒ€ìŠ¤ì¼€ì¤„ëŸ¬ìš©)

// ì „ì—­ ì„¤ì • ë³€ìˆ˜
var CONFIG = null;

/\*\*

-   ì„¤ì • íŒŒì¼ì„ ë¡œë“œí•˜ëŠ” í•¨ìˆ˜
    \*/
    function loadConfig() {
    try {
    // config.json íŒŒì¼ì—ì„œ ì„¤ì • ë¡œë“œ
    var configUrl = "https://agency8group.github.io/TeamScheduler/config.json";
    var response = UrlFetchApp.fetch(configUrl);
        if (response.getResponseCode() === 200) {
          CONFIG = JSON.parse(response.getContentText());
          Logger.log("ì„¤ì • íŒŒì¼ ë¡œë“œ ì„±ê³µ");
          Logger.log("Webhook URL: " + CONFIG.webhook.url);
          Logger.log("Timezone: " + CONFIG.app.timezone);
          return true;
        } else {
          Logger.log("ì„¤ì • íŒŒì¼ ë¡œë“œ ì‹¤íŒ¨: HTTP " + response.getResponseCode());
          return false;
        }
    } catch (error) {
    Logger.log("ì„¤ì • íŒŒì¼ ë¡œë“œ ì˜¤ë¥˜: " + error.toString());
    return false;
    }
    }

/\*\*

-   ì›¹í˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ëŠ” í•¨ìˆ˜ (ìˆ˜ì •í•  í•„ìš” ì—†ìŒ)
    \*/
    function doGet() {
    return HtmlService.createHtmlOutputFromFile('index.html')
    .setTitle('ì „ì‚¬ ê³µìš© ìº˜ë¦°ë”')
    .setXFrameOptionsMode(HtmlService.XFrameOptionsMode.ALLOWALL);
    }

/\*\*

-   í¼ ë°ì´í„°ë¥¼ ë°›ì•„ì„œ êµ¬ê¸€ ì‹œíŠ¸ì— ì €ì¥í•˜ëŠ” í•¨ìˆ˜
    \*/
    function doPost(e) {
    var sheet;
    var data;

// 0. ìš”ì²­ ë¡œê·¸ ê¸°ë¡
Logger.log("=== íŒ€ìŠ¤ì¼€ì¤„ëŸ¬ ì¼ì • ìš”ì²­ ì‹œì‘ ===");
Logger.log("ìš”ì²­ ì‹œê°„: " + new Date().toString());
Logger.log("ìš”ì²­ ë°ì´í„°: " + e.postData.contents);

// 1. ë°ì´í„°ë¥¼ ì •ìƒì ìœ¼ë¡œ ë°›ì•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ê°ì²´ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
try {
data = JSON.parse(e.postData.contents);
Logger.log("ë°ì´í„° íŒŒì‹± ì„±ê³µ: " + JSON.stringify(data));
} catch (error) {
// ë°ì´í„°ê°€ ì˜ëª»ëìœ¼ë©´ ì—¬ê¸°ì„œ ì‹¤í–‰ì„ ë©ˆì¶”ê³  ì—ëŸ¬ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤.
Logger.log("ë°ì´í„° íŒŒì‹± ì—ëŸ¬: " + error.toString());
return ContentService.createTextOutput(JSON.stringify({
success: false,
message: "ë°ì´í„° í˜•ì‹ ì˜¤ë¥˜: " + error.toString()
}));
}

// 2. 'ì¼ì •ìš”ì²­'ì´ë¼ëŠ” ì´ë¦„ì˜ ì‹œíŠ¸ë¥¼ ì°¾ìŠµë‹ˆë‹¤.
try {
sheet = SpreadsheetApp.getActiveSpreadsheet().getSheetByName("ì¼ì •ìš”ì²­");
Logger.log("ì‹œíŠ¸ ê²€ìƒ‰ ê²°ê³¼: " + (sheet ? "ì°¾ìŒ" : "ì—†ìŒ"));

    // ë§Œì•½ 'ì¼ì •ìš”ì²­' ì‹œíŠ¸ê°€ ì—†ë‹¤ë©´, ìŠ¤í¬ë¦½íŠ¸ê°€ ì§ì ‘ ì‹œíŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
    if (!sheet) {
      Logger.log("ì¼ì •ìš”ì²­ ì‹œíŠ¸ ìƒì„± ì¤‘...");
      sheet = SpreadsheetApp.getActiveSpreadsheet().insertSheet("ì¼ì •ìš”ì²­");
      // ìƒˆë¡œ ë§Œë“  ì‹œíŠ¸ì˜ ì²« ì¤„ì— í—¤ë”(ì œëª©)ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
      sheet.getRange("A1:F1").setValues([
        ["ìš”ì²­ì‹œê°„", "ì‘ì„±ìëª…", "ìš”ì²­ì¼ì", "ë¸Œëœë“œëª…", "ì œëª©", "ìƒì„¸ì„¤ëª…"]
      ]);
      Logger.log("ì¼ì •ìš”ì²­ ì‹œíŠ¸ ìƒì„± ì™„ë£Œ");
    }

} catch (error) {
// ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ìì²´ë¥¼ ëª» ì°¾ëŠ” ë“± ë‹¤ë¥¸ ì—ëŸ¬ê°€ ë‚˜ë©´ ê¸°ë¡í•©ë‹ˆë‹¤.
Logger.log("ì‹œíŠ¸ ì ‘ê·¼ ì—ëŸ¬: " + error.toString());
return ContentService.createTextOutput(JSON.stringify({
success: false,
message: "ì‹œíŠ¸ ì ‘ê·¼ ì˜¤ë¥˜: " + error.toString()
}));
}

// 3. ì „ë‹¬ë°›ì€ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì‹œíŠ¸ì— ìƒˆë¡œìš´ í–‰ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
try {
var rowData = [
new Date(), // Aì—´: í˜„ì¬ ì‹œê°„ (ìë™)
data.requester || '', // Bì—´: ì‘ì„±ìëª…
data.eventDate || '', // Cì—´: ìš”ì²­ì¼ì
data.company || '', // Dì—´: ë¸Œëœë“œëª…
data.eventTitle || '', // Eì—´: ì œëª©
data.eventDescription || ''// Fì—´: ìƒì„¸ì„¤ëª…
];

    Logger.log("ì €ì¥í•  ë°ì´í„°: " + JSON.stringify(rowData));
    sheet.appendRow(rowData);
    Logger.log("ë°ì´í„° ì €ì¥ ì™„ë£Œ");

} catch (error) {
// í–‰ ì¶”ê°€ ì¤‘ì— ì—ëŸ¬ê°€ ë‚˜ë©´ ê¸°ë¡í•©ë‹ˆë‹¤.
Logger.log("ë°ì´í„° ê¸°ë¡ ì—ëŸ¬: " + error.toString());
return ContentService.createTextOutput(JSON.stringify({
success: false,
message: "ë°ì´í„° ê¸°ë¡ ì˜¤ë¥˜: " + error.toString()
}));
}

// 4. ëª¨ë“  ê³¼ì •ì´ ì„±ê³µí•˜ë©´, ì„±ê³µ ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
Logger.log("=== íŒ€ìŠ¤ì¼€ì¤„ëŸ¬ ì¼ì • ìš”ì²­ ì™„ë£Œ ===");
return ContentService.createTextOutput(
JSON.stringify({
success: true,
message: "ì„±ê³µì ìœ¼ë¡œ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.",
timestamp: new Date().toISOString()
})
).setMimeType(ContentService.MimeType.JSON);
}

/\*\*

-   ë§¤ì¼ ì„¤ì •ëœ ì‹œê°„ì— ì‹¤í–‰ë˜ëŠ” Webhook ë°œì†¡ í•¨ìˆ˜
-   Google Apps Scriptì˜ ì‹œê°„ ê¸°ë°˜ íŠ¸ë¦¬ê±°ë¡œ ì„¤ì •í•´ì•¼ í•¨ (ë§¤ì¼ ì‹¤í–‰)
    \*/
    function sendDailyWebhook() {
    try {
    Logger.log("=== ì¼ì¼ Webhook ë°œì†¡ ì‹œì‘ ===");

        // ì„¤ì • íŒŒì¼ ë¡œë“œ
        if (!loadConfig()) {
          Logger.log("ì„¤ì • íŒŒì¼ì„ ë¡œë“œí•  ìˆ˜ ì—†ì–´ Webhook ë°œì†¡ì„ ì¤‘ë‹¨í•©ë‹ˆë‹¤.");
          return;
        }

        // Webhookì´ ë¹„í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´ ì‹¤í–‰í•˜ì§€ ì•ŠìŒ
        if (!CONFIG.webhook.enabled) {
          Logger.log("Webhookì´ ë¹„í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤. config.jsonì—ì„œ enabledë¥¼ trueë¡œ ì„¤ì •í•˜ì„¸ìš”.");
          return;
        }

        // í˜„ì¬ ì‹œê°„ê³¼ ì„¤ì •ëœ ë°œì†¡ ì‹œê°„ ë¹„êµ
        var now = new Date();
        var currentHour = now.getHours();
        var targetHour = CONFIG.webhook.hour || 8; // ê¸°ë³¸ê°’ 8ì‹œ

        Logger.log("í˜„ì¬ ì‹œê°„: " + currentHour + "ì‹œ");
        Logger.log("ì„¤ì •ëœ ë°œì†¡ ì‹œê°„: " + targetHour + "ì‹œ");

        // ì„¤ì •ëœ ì‹œê°„ì´ ì•„ë‹ˆë©´ ë°œì†¡í•˜ì§€ ì•ŠìŒ
        if (currentHour !== targetHour) {
          Logger.log("ì„¤ì •ëœ ë°œì†¡ ì‹œê°„(" + targetHour + "ì‹œ)ì´ ì•„ë‹ˆë¯€ë¡œ ë°œì†¡ì„ ê±´ë„ˆëœë‹ˆë‹¤.");
          return;
        }

        // ì˜¤ëŠ˜ ë‚ ì§œ ê³„ì‚° (ì„¤ì •ëœ íƒ€ì„ì¡´ ê¸°ì¤€)
        var today = new Date();
        var todayString = Utilities.formatDate(today, CONFIG.app.timezone, "yyyy-MM-dd");

        Logger.log("ì˜¤ëŠ˜ ë‚ ì§œ: " + todayString);
        Logger.log("Webhook URL: " + CONFIG.webhook.url);
        Logger.log("Timezone: " + CONFIG.app.timezone);

        // events.jsonì—ì„œ ì¼ì • ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        var eventsData = getEventsData();
        if (!eventsData || !eventsData.events) {
          Logger.log("ì¼ì • ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
          return;
        }

        // ì˜¤ëŠ˜ ì¼ì • í•„í„°ë§
        var todayEvents = eventsData.events.filter(function(event) {
          return event.date === todayString;
        });

        Logger.log("ì˜¤ëŠ˜ ì¼ì • ìˆ˜: " + todayEvents.length);

        if (todayEvents.length === 0) {
          Logger.log("ì˜¤ëŠ˜ ì¼ì •ì´ ì—†ì–´ Webhook ë°œì†¡ì„ ê±´ë„ˆëœë‹ˆë‹¤.");
          return;
        }

        // Webhook í˜ì´ë¡œë“œ êµ¬ì„± (íŒŒì´ì¬ ì½”ë“œì™€ ë™ì¼í•˜ê²Œ ìˆ˜ì •)
        var messageTitle = "ğŸ“… " + todayString + " ì˜¤ëŠ˜ ì¼ì • ì•ˆë‚´";
        var messageBody = todayEvents.map(function(event) {
          return "- " + event.title + (event.description ? " (" + event.description + ")" : "");
        }).join("\n");

        var payload = {
          "text": messageTitle + "\n" + messageBody
        };

        Logger.log("Webhook í˜ì´ë¡œë“œ: " + JSON.stringify(payload));

        // Webhook ë°œì†¡ (íŒŒì´ì¬ ì½”ë“œì™€ ë™ì¼í•˜ê²Œ ìˆ˜ì •)
        var options = {
          'method': 'post',
          'contentType': 'application/json',
          'payload': JSON.stringify(payload)
        };

        var response = UrlFetchApp.fetch(CONFIG.webhook.url, options);

        if (response.getResponseCode() === 200) {
          Logger.log("âœ… Webhook ë°œì†¡ ì„±ê³µ: " + todayString);
          Logger.log("ë°œì†¡ëœ ì¼ì •: " + todayEvents.map(function(e) { return e.title; }).join(", "));
        } else {
          Logger.log("âŒ Webhook ë°œì†¡ ì‹¤íŒ¨: HTTP " + response.getResponseCode());
          Logger.log("ì‘ë‹µ: " + response.getContentText());
        }

} catch (error) {
Logger.log("âŒ Webhook ë°œì†¡ ì˜¤ë¥˜: " + error.toString());
}

Logger.log("=== ì¼ì¼ Webhook ë°œì†¡ ì™„ë£Œ ===");
}

/\*\*

-   events.json íŒŒì¼ì—ì„œ ì¼ì • ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜
    \*/
    function getEventsData() {
    try {
    // ì„¤ì •ì´ ë¡œë“œë˜ì§€ ì•Šì•˜ìœ¼ë©´ ë¡œë“œ
    if (!CONFIG) {
    if (!loadConfig()) {
    return null;
    }
    }
        // GitHub Pages URLì—ì„œ events.json ê°€ì ¸ì˜¤ê¸°
        var response = UrlFetchApp.fetch(CONFIG.events.url);

        if (response.getResponseCode() === 200) {
          var data = JSON.parse(response.getContentText());
          Logger.log("ì¼ì • ë°ì´í„° ë¡œë“œ ì„±ê³µ");
          return data;
        } else {
          Logger.log("ì¼ì • ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨: HTTP " + response.getResponseCode());
          return null;
        }
    } catch (error) {
    Logger.log("ì¼ì • ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜: " + error.toString());
    return null;
    }
    }

/\*\*

-   ìˆ˜ë™ìœ¼ë¡œ Webhookì„ ë°œì†¡í•˜ëŠ” í•¨ìˆ˜ (í…ŒìŠ¤íŠ¸ìš©)
    \*/
    function sendWebhookNow() {
    Logger.log("ìˆ˜ë™ Webhook ë°œì†¡ ì‹œì‘...");
    sendDailyWebhook();
    }

/\*\*

-   í˜„ì¬ ì„¤ì •ì„ í™•ì¸í•˜ëŠ” í•¨ìˆ˜
    \*/
    function checkConfig() {
    if (loadConfig()) {
    Logger.log("=== í˜„ì¬ ì„¤ì • í™•ì¸ ===");
    Logger.log("Webhook URL: " + CONFIG.webhook.url);
    Logger.log("Webhook í™œì„±í™”: " + CONFIG.webhook.enabled);
    Logger.log("ë°œì†¡ ì‹œê°„: " + CONFIG.webhook.hour + "ì‹œ");
    Logger.log("íƒ€ì„ì¡´: " + CONFIG.app.timezone);
    Logger.log("ì•± ì´ë¦„: " + CONFIG.app.name);
    Logger.log("ì•± ë²„ì „: " + CONFIG.app.version);
    Logger.log("=====================");
    } else {
    Logger.log("ì„¤ì • íŒŒì¼ì„ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    }
    }

/\*\*

-   íŠ¸ë¦¬ê±° ì„¤ì • ì•ˆë‚´ í•¨ìˆ˜
-   ì´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ íŠ¸ë¦¬ê±° ì„¤ì • ë°©ë²•ì„ ë¡œê·¸ì— ì¶œë ¥í•©ë‹ˆë‹¤
    \*/
    function setupTrigger() {
    Logger.log("=== Google Apps Script íŠ¸ë¦¬ê±° ì„¤ì • ë°©ë²• ===");
    Logger.log("1. Google Apps Script í¸ì§‘ê¸°ì—ì„œ 'íŠ¸ë¦¬ê±°' ë©”ë‰´ í´ë¦­");
    Logger.log("2. 'íŠ¸ë¦¬ê±° ì¶”ê°€' ë²„íŠ¼ í´ë¦­");
    Logger.log("3. ë‹¤ìŒ ì„¤ì •ìœ¼ë¡œ íŠ¸ë¦¬ê±° ìƒì„±:");
    Logger.log(" - ì‹¤í–‰í•  í•¨ìˆ˜: sendDailyWebhook");
    Logger.log(" - ì‹¤í–‰í•  ë°°í¬: Head");
    Logger.log(" - ì´ë²¤íŠ¸ ì†ŒìŠ¤: ì‹œê°„ ê¸°ë°˜");
    Logger.log(" - ì‹œê°„ ê¸°ë°˜ íŠ¸ë¦¬ê±° ìœ í˜•: ë§¤ì¼");
    Logger.log(" - ì‹œê°„: ë§¤ì¼ ì˜¤ì „ 12:00 (ë˜ëŠ” ì›í•˜ëŠ” ì‹œê°„)");
    Logger.log("4. 'ì €ì¥' ë²„íŠ¼ í´ë¦­");
    Logger.log("");
    Logger.log("â€» ë°œì†¡ ì‹œê°„ ë³€ê²½ì€ config.jsonì˜ webhook.hour ê°’ì„ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤.");
    Logger.log("â€» íŠ¸ë¦¬ê±°ëŠ” ë§¤ì¼ ì‹¤í–‰ë˜ì§€ë§Œ, config.jsonì˜ ì‹œê°„ê³¼ ì¼ì¹˜í•  ë•Œë§Œ ì‹¤ì œ ë°œì†¡ë©ë‹ˆë‹¤.");
    Logger.log("==========================================");
    }

/\*\*

-   Webhook ì—°ê²° í…ŒìŠ¤íŠ¸ í•¨ìˆ˜
    \*/
    function testWebhookConnection() {
    try {
    Logger.log("=== Webhook ì—°ê²° í…ŒìŠ¤íŠ¸ ì‹œì‘ ===");
        if (!loadConfig()) {
          Logger.log("ì„¤ì • íŒŒì¼ì„ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
          return;
        }

        var testPayload = {
          test: true,
          message: "Webhook ì—°ê²° í…ŒìŠ¤íŠ¸",
          timestamp: new Date().toISOString(),
          timezone: CONFIG.app.timezone
        };

        var options = {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'User-Agent': CONFIG.app.name + '/' + CONFIG.app.version
          },
          payload: JSON.stringify(testPayload)
        };

        var response = UrlFetchApp.fetch(CONFIG.webhook.url, options);

        if (response.getResponseCode() === 200) {
          Logger.log("âœ… Webhook ì—°ê²° í…ŒìŠ¤íŠ¸ ì„±ê³µ!");
          Logger.log("ì‘ë‹µ: " + response.getContentText());
        } else {
          Logger.log("âŒ Webhook ì—°ê²° í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: HTTP " + response.getResponseCode());
          Logger.log("ì‘ë‹µ: " + response.getContentText());
        }

} catch (error) {
Logger.log("âŒ Webhook ì—°ê²° í…ŒìŠ¤íŠ¸ ì˜¤ë¥˜: " + error.toString());
}

Logger.log("=== Webhook ì—°ê²° í…ŒìŠ¤íŠ¸ ì™„ë£Œ ===");
}
